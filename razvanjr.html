<!doctype html>
<html lang="ro">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>JR's Cuts</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Merriweather:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

    <style>
        :root{
        --bg:#000000; --panel:#111111; --text:#ffffff; --muted:#888888; --accent:#32cd32; --watermark:rgba(255,255,255,0.08);
        }
        [data-theme="light"]{
        --bg:#ffffff; --panel:#f0f0f0; --text:#000000; --muted:#666666; --accent:#32cd32; --watermark:rgba(0,0,0,0.12);
        }

        html,body{height:100%;}
        body{
            margin:0; font-family:Montserrat,system-ui,-apple-system,"Segoe UI",Roboto; background:var(--bg); color:var(--text);
            -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
            display:flex; flex-direction:column; min-height:100vh;
            transition:background .25s, color .25s;
            -webkit-tap-highlight-color: transparent;
        }

        header{
            display:flex; align-items:center; justify-content:space-between;
            padding:18px 28px; gap:16px; backdrop-filter: blur(6px);
        }
        .brand{display:flex;align-items:center;gap:12px;font-weight:700}
        .brand .logo{
            width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--panel),rgba(0,0,0,0.04));
            display:grid;place-items:center;box-shadow:0 4px 18px rgba(0,0,0,0.06);
        }
        .brand .title{display:flex;flex-direction:column;line-height:1}
        .brand .name{font-family:Merriweather,serif;font-size:1.05rem;}
        .brand .tag{font-size:.72rem;color:var(--muted);}

        .controls{display:flex;gap:10px;align-items:center}
        .btn{
            background:transparent;border:1px solid rgba(255,255,255,0.1);padding:8px 12px;border-radius:6px;
            cursor:pointer;color:var(--text);display:inline-flex;gap:8px;align-items:center;font-weight:600;
            transition:transform .12s ease,box-shadow .12s ease,background .12s;
        }
        .btn:hover{background:rgba(255,255,255,0.05)}
        .btn:active{transform:scale(.98)}
        .theme-toggle{border-radius:999px;padding:10px}

        main{flex:1;padding:20px 22px;max-width:1100px;margin:0 auto;width:100%}
        .hero{
            display:flex;gap:24px;align-items:center;padding:28px;border-radius:14px;background:linear-gradient(180deg,var(--panel),transparent);
            box-shadow:0 6px 30px rgba(0,0,0,0.3);overflow:hidden;
        }
        .hero .info{flex:1}
        .hero h1{margin:0;font-family:Merriweather,serif;font-size:2.2rem;text-shadow:0 2px 4px rgba(0,0,0,0.5)}
        .hero p{margin:.6rem 0;color:var(--muted)}
        .cta{display:flex;gap:12px;margin-top:12px}
        .primary{background:var(--accent);color:white;border:0;padding:12px 18px;border-radius:8px;cursor:pointer;font-weight:700;text-transform:uppercase;letter-spacing:1px}
        .secondary{background:transparent;border:1px solid rgba(255,255,255,0.2);padding:12px 16px;border-radius:8px;cursor:pointer;color:var(--text);text-transform:uppercase;letter-spacing:1px}

        .pole{width:120px;height:180px;border-radius:12px;position:relative;overflow:hidden;flex-shrink:0;background:linear-gradient(90deg,#fff 45%, #e6e6e6 55%)}
        .strip{position:absolute;left:-20px;top:-100px;width:140%;height:400px;background:repeating-linear-gradient(45deg,var(--accent) 0 12px, #fff 12px 24px, #1e90ff 24px 36px);transform:rotate(-15deg);animation:spin 6s linear infinite}
        @keyframes spin{0%{transform:rotate(-15deg) translateY(0)}50%{transform:rotate(-15deg) translateY(10px)}100%{transform:rotate(-15deg) translateY(0)}}

        .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:18px}
        .card{background:var(--panel);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.05)}
        .card h3{margin:0 0 8px 0;font-weight:700;text-transform:uppercase;letter-spacing:1px}
        .muted{color:var(--muted);font-size:.95rem}


        form{display:flex;flex-direction:column;gap:12px}
        input,textarea,select{
            padding:14px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);
            background:var(--panel);color:var(--text);font-weight:500;
            font-size:16px; /* Prevents zoom on iOS */
        }
        /* Style for date and time inputs */
        #dateInput, #timeInput{flex:1; box-sizing:border-box}
        /* Force 24-hour time format and remove AM/PM */
        #timeInput {
            -webkit-appearance: none;
            -moz-appearance: textfield;
            appearance: none;
        }
        #timeInput::-webkit-calendar-picker-indicator {
            display: none;
        }
        #timeInput::-webkit-datetime-edit {
            hour: 'HH';
            minute: 'MM';
        }
        #timeInput::-webkit-datetime-edit-ampm-field {
            display: none;
        }
        textarea{min-height:100px;resize:vertical}

        footer{padding:18px 22px;text-align:center;color:var(--muted);font-size:.9rem}

        .click-ripple{
            position:fixed;pointer-events:none;border-radius:50%;transform:translate(-50%,-50%) scale(0);
            width:28px;height:28px;background:rgba(255,255,255,0.1);z-index:9999;mix-blend-mode:soft-light;animation:rip .6s ease-out;
        }
        @keyframes rip{to{transform:translate(-50%,-50%) scale(6);opacity:0}}

        .click-anim{transition:transform .18s cubic-bezier(.2,.9,.3,1);transform-origin:center}
        
        /* Time slots styling */
        .time-slot {
            position: relative;
            overflow: hidden;
        }
        
        .time-slot.selected {
            box-shadow: 0 0 0 2px var(--accent);
        }
        
        .calendar-container {
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @media (max-width:700px){ 
            .hero{flex-direction:column;align-items:flex-start}
            .pole{width:100%;height:120px} 
            .pole .strip{height:240px}
            #timeSlotsGrid {
                grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
                gap: 6px;
            }
            .time-slot {
                padding: 6px 4px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="brand">
            <div class="logo" aria-hidden>
                <svg width="42" height="42" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="18" height="18" rx="4" fill="var(--accent)"/>
                    <path d="M7 12c2-2 6-2 8 0" stroke="#fff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="title">
                <div class="name">JR's Cuts</div>
                <div class="tag">Haz • Talent • Prestanta</div>
            </div>
        </div>

        <div class="controls">
            <button class="btn click-anim" id="themeBtn" title="Comută tema">Dark/Light</button>
        </div>
    </header>

    <main>
        <section class="hero card">
            <div class="info">
                <h1>Pentru momentele cand te simti amarat si vai de capul tau!</h1>
                <p>Razvan JR — frizeria pentru bărbații care stiu ce vor nevestele lor. Fade, Mullet si multe alte tunsori personalizate.</p>
                <div class="cta">
                    <button class="primary click-anim" id="primaryBook">Rezervă acum</button>
                    <button class="secondary click-anim" id="viewAppointments">Programări</button>
                </div>

                <div class="grid" style="margin-top:14px">
                    <div class="card">
                        <h3>Tunsori Hazoase</h3>
                        <div class="muted">Fade agresiv, undercut puternic — pentru bărbații reali.</div>
                    </div>
                    <div class="card">
                        <h3>Barba & putere</h3>
                        <div class="muted">Modelare barbă profesionistă, produse de top pentru un look dur.</div>
                    </div>
                    <div class="card">
                        <h3>Stil masculin</h3>
                        <div class="muted">Îngrijire completă pentru bărbați care domină.</div>
                    </div>
                </div>
            </div>

            <div style="display:flex;flex-direction:column;gap:14px;align-items:center">
                <img src="./Untitled.jpg" alt="Razvan JR" style="width:220px;height:auto;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.2);display:block">
                <div class="card" style="padding:10px;width:220px;text-align:center">
                    <div style="font-weight:700">Razvan JR</div>
                    <div class="muted" style="font-size:.85rem">Ciumeg & Talentat</div>
                </div>
            </div>
        </section>

        <section style="margin-top:18px">
            <h2 style="margin:6px 0">Programări</h2>
            <div class="grid" id="appointments">
                <div class="card">
                    <h3>Luni - Vineri</h3>
                    <div class="muted">20:00 - 00:00</div>
                </div>
                <div class="card">
                    <h3>Sâmbătă</h3>
                    <div class="muted">16:00 - 20:00</div>
                </div>
                <div class="card">
                    <h3>Duminică</h3>
                    <div class="muted">Închis</div>
                </div>
            </div>
        </section>

        <section style="margin-top:18px" id="booking" aria-live="polite">
            <h2>Rezervare</h2>
            <div class="card" style="padding:16px">
                <form id="bookForm">
                    <div style="display:flex;gap:8px">
                        <input name="nume" placeholder="Nume" required>
                        <input name="telefon" placeholder="Telefon (07xxxxxxxx)" maxlength="10" pattern="07[0-9]{8}" title="Numarul de telefon trebuie sa inceapa cu 07 si sa aiba 10 cifre" required>
                    </div>
                    <select name="serviciu" required>
                        <option value="">Alege serviciu</option>
                        <option>Tuns Fade Clasic 40 RON</option>
                        <option>Tunsori cu model personalizat 50 RON</option>
                        <option>Modelare Barba 30 RON</option>
                        <option>Pachet masculin 80 RON</option>
                    </select>
                    <div style="display:flex;gap:8px; position:relative;">
                        <input type="date" name="data" required id="dateInput" style="flex:1;">
                        <input type="text" name="time" required id="timeInput" placeholder="16:00" style="flex:1;" pattern="[0-2][0-9]:[0-5][0-9]" title="24-hour format (HH:MM)">
                    </div>
                    
                    <!-- Calendar and Time Slots Section -->
                    <div id="calendarSection" style="display:none; margin-top: 12px;">
                        <div class="calendar-container" style="background: var(--panel); border-radius: 8px; padding: 16px; border: 1px solid rgba(255,255,255,0.1);">
                            <h4 style="margin: 0 0 12px 0; text-align: center;">Selectați ora disponibilă</h4>
                            <div id="timeSlotsGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 8px;">
                                <!-- Time slots will be populated here -->
                            </div>
                        </div>
                    </div>
                    <textarea name="note" placeholder="Observații (opțional)"></textarea>
                    <div style="display:flex;gap:10px;justify-content:flex-end">
                        <button type="reset" class="secondary click-anim">Resetează</button>
                        <button type="submit" class="primary click-anim">Trimite rezervare</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <footer>
        © <span id="year"></span> drgx.prod
    </footer>

    <script>
        const html = document.documentElement;
        const saved = localStorage.getItem('rz-theme') || 'dark';
        html.setAttribute('data-theme', saved);
        document.getElementById('themeBtn').addEventListener('click', ()=>{
            const cur = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', cur);
            localStorage.setItem('rz-theme', cur);
        });

        document.addEventListener('click', (e)=>{
            const el = document.createElement('div');
            el.className = 'click-ripple';
            el.style.left = e.clientX + 'px';
            el.style.top = e.clientY + 'px';
            document.body.appendChild(el);
            setTimeout(()=>el.remove(),700);
        }, {passive:true});

        document.getElementById('bookBtn').addEventListener('click', ()=>document.getElementById('booking').scrollIntoView({behavior:'smooth'}));
        document.getElementById('primaryBook').addEventListener('click', ()=>document.getElementById('booking').scrollIntoView({behavior:'smooth'}));
        document.getElementById('viewAppointments').addEventListener('click', ()=>document.getElementById('appointments').scrollIntoView({behavior:'smooth'}));

        // Business hours configuration
        const businessHours = {
            1: { start: '20:00', end: '24:00' }, // Monday: 20:00 - 00:00
            2: { start: '20:00', end: '24:00' }, // Tuesday: 20:00 - 00:00  
            3: { start: '20:00', end: '24:00' }, // Wednesday: 20:00 - 00:00
            4: { start: '20:00', end: '24:00' }, // Thursday: 20:00 - 00:00
            5: { start: '20:00', end: '24:00' }, // Friday: 20:00 - 00:00
            6: { start: '16:00', end: '20:00' }, // Saturday: 16:00 - 20:00
            0: null      // Sunday: Closed
        };

        // Validate time against business hours
        function isValidTime(date, time) {
            const dayOfWeek = new Date(date).getDay();
            const hours = businessHours[dayOfWeek];
            
            if (!hours) return false; // Sunday or closed day
            
            if (!time || !time.includes(':')) return false;
            
            const [selectedHour] = time.split(':').map(Number);
            const [startHour] = hours.start.split(':').map(Number);
            const [endHour] = hours.end.split(':').map(Number);
            
            return selectedHour >= startHour && selectedHour < endHour;
        }

        // Validate date - ensure it's not in the past (today or future only)
        function isValidDate(dateString) {
            const selectedDate = new Date(dateString);
            const today = new Date();
            
            // Set both dates to start of day (midnight) for accurate comparison
            today.setHours(0, 0, 0, 0);
            selectedDate.setHours(0, 0, 0, 0);
            
            console.log('Today:', today.toISOString().split('T')[0]); // Debug
            console.log('Selected:', selectedDate.toISOString().split('T')[0]); // Debug
            
            return selectedDate >= today;
        }

        // Update time input based on selected date
        function updateTimeRestrictions() {
            const dateInput = document.getElementById('dateInput');
            const timeInput = document.getElementById('timeInput');
            const calendarSection = document.getElementById('calendarSection');
            
            if (dateInput && timeInput) {
                const selectedDate = new Date(dateInput.value);
                const dayOfWeek = selectedDate.getDay();
                const hours = businessHours[dayOfWeek];
                
                if (hours) {
                    timeInput.disabled = false;
                    timeInput.min = hours.start;
                    timeInput.max = hours.end;
                    timeInput.placeholder = `Ora: ${hours.start} - ${hours.end}`;
                    calendarSection.style.display = 'block';
                    generateTimeSlots(selectedDate, hours);
                } else {
                    timeInput.disabled = true;
                    timeInput.value = '';
                    timeInput.placeholder = 'Închis';
                    calendarSection.style.display = 'none';
                }
            }
        }

        // Generate available time slots
        function generateTimeSlots(date, hours) {
            const timeSlotsGrid = document.getElementById('timeSlotsGrid');
            const [startHour] = hours.start.split(':').map(Number);
            const [endHour] = hours.end.split(':').map(Number);
            
            // Clear existing slots
            timeSlotsGrid.innerHTML = '';
            
            // Generate hourly slots
            for (let hour = startHour; hour < endHour; hour++) {
                const timeString = hour.toString().padStart(2, '0') + ':00';
                const slotButton = document.createElement('button');
                slotButton.className = 'time-slot';
                slotButton.textContent = timeString;
                slotButton.setAttribute('data-time', timeString);
                slotButton.style.cssText = `
                    background: var(--panel);
                    border: 1px solid rgba(255,255,255,0.2);
                    color: var(--text);
                    padding: 8px;
                    border-radius: 6px;
                    cursor: pointer;
                    font-weight: 500;
                    transition: all 0.2s ease;
                    font-size: 0.9rem;
                `;
                
                // Add hover effect
                slotButton.addEventListener('mouseenter', function() {
                    this.style.background = 'var(--accent)';
                    this.style.color = 'white';
                    this.style.transform = 'translateY(-1px)';
                });
                
                slotButton.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('selected')) {
                        this.style.background = 'var(--panel)';
                        this.style.color = 'var(--text)';
                        this.style.transform = 'translateY(0)';
                    }
                });
                
                // Check if slot is "booked" (simulate some booked slots)
                const isBooked = Math.random() < 0.3; // 30% chance of being booked
                
                if (isBooked) {
                    slotButton.style.opacity = '0.5';
                    slotButton.style.cursor = 'not-allowed';
                    slotButton.title = 'Deja rezervat';
                    slotButton.disabled = true;
                } else {
                    // Add click handler
                    slotButton.addEventListener('click', function() {
                        // Remove previous selection
                        document.querySelectorAll('.time-slot.selected').forEach(slot => {
                            slot.classList.remove('selected');
                            slot.style.background = 'var(--panel)';
                            slot.style.color = 'var(--text)';
                            slot.style.transform = 'translateY(0)';
                        });
                        
                        // Select this slot
                        this.classList.add('selected');
                        this.style.background = 'var(--accent)';
                        this.style.color = 'white';
                        this.style.transform = 'translateY(-1px)';
                        
                        // Update time input
                        const timeInput = document.getElementById('timeInput');
                        timeInput.value = timeString;
                        timeInput.focus(); // Focus the input
                        
                        // Hide calendar after selection
                        setTimeout(() => {
                            document.getElementById('calendarSection').style.display = 'none';
                        }, 300);
                    });
                }
                
                timeSlotsGrid.appendChild(slotButton);
            }
        }

        // Toggle calendar with time input focus
        function setupTimeInputToggle() {
            const timeInput = document.getElementById('timeInput');
            if (timeInput) {
                timeInput.addEventListener('focus', function() {
                    const dateInput = document.getElementById('dateInput');
                    if (dateInput.value) {
                        updateTimeRestrictions();
                    }
                });
            }
        }

        // Phone number validation
        const phoneInput = document.querySelector('input[name="telefon"]');
        if (phoneInput) {
            phoneInput.addEventListener('input', function(e) {
                let value = e.target.value;
                
                // Remove any non-numeric characters
                value = value.replace(/[^0-9]/g, '');
                
                // Limit to 10 characters
                if (value.length > 10) {
                    value = value.substring(0, 10);
                }
                
                // Update the input value
                e.target.value = value;
                
                // Validate the phone number
                const phonePattern = /^07[0-9]{8}$/;
                if (value.length === 10 && !phonePattern.test(value)) {
                    e.target.setCustomValidity('Numaru tau orfane');
                } else {
                    e.target.setCustomValidity('');
                }
            });
            
            phoneInput.addEventListener('blur', function(e) {
                const value = e.target.value;
                const phonePattern = /^07[0-9]{8}$/;
                
                if (value.length > 0 && !phonePattern.test(value)) {
                    alert('Numaru tau orfane');
                    e.target.focus();
                }
            });
        }

        // Handle form submission
        const bookForm = document.getElementById('bookForm');
        console.log('Found form:', bookForm);
        
        if (bookForm) {
            bookForm.addEventListener('submit', (e)=>{
                e.preventDefault();
                console.log('Form submitted!'); // Debug log
                
                const fd = new FormData(e.target);
                
                // Get form data
                const name = fd.get('nume') || '';
                const phone = fd.get('telefon') || '';
                const date = fd.get('data') || '';
                const time = fd.get('time') || '';
                const service = fd.get('serviciu') || '';
                const notes = fd.get('note') || '';
                
                console.log('Form data:', {name, phone, date, time, service}); // Debug log
                
                // Validate phone number
                const phonePattern = /^07[0-9]{8}$/;
                if (!phonePattern.test(phone)) {
                    console.log('Invalid phone number'); // Debug log
                    alert('Numaru tau orfane');
                    return;
                }
                
                // Extract service name before the price
                let cleanService = '';
                if (service) {
                    cleanService = service.split(' ').slice(0, -2).join(' ');
                }
                
                // Validate date is not in the past
                if (!isValidDate(date)) {
                    alert('Vă rugăm selectați o dată de astăzi sau o dată din viitor.');
                    return;
                }
                
                // Check if time was selected
                if (!time) {
                    alert('Vă rugăm selectați o oră disponibilă.');
                    return;
                }
                
                // Validate time format
                const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;
                if (!timeRegex.test(time)) {
                    alert('Format oră invalid. Vă rugăm introduceți ora în format HH:MM.');
                    return;
                }
                
                // Validate business hours - strict validation to prevent submission
                const selectedDate = new Date(date);
                const dayOfWeek = selectedDate.getDay();
                const dayHours = businessHours[dayOfWeek];
                
                if (!dayHours) {
                    alert(`Suntem închiși în această zi.\nZiua: ${['Duminică', 'Luni', 'Marți', 'Miercuri', 'Joi', 'Vineri', 'Sâmbătă'][dayOfWeek]}\n\nVă rugăm selectați o altă zi.`);
                    return;
                }
                
                if (!isValidTime(date, time)) {
                    alert(`Ora selectată nu este în intervalul de program.\nZiua: ${['Duminică', 'Luni', 'Marți', 'Miercuri', 'Joi', 'Vineri', 'Sâmbătă'][dayOfWeek]}\nProgram: ${dayHours.start} - ${dayHours.end}\n\nVă rugăm selectați o oră în intervalul de program.`);
                    return;
                }
                
                // Show simple popup alert
                alert('Te sunam noi!');
                console.log('Alert shown: Te sunam noi!'); // Debug log
                
                // Reset form
                e.target.reset();
                updateTimeRestrictions();
            });
            

            
            // Add date change listener
            const dateInput = document.getElementById('dateInput');
            if (dateInput) {
                dateInput.addEventListener('change', updateTimeRestrictions);
            }
        }

        document.getElementById('year').textContent = new Date().getFullYear();

        // Set up basic date and time inputs
        console.log('Setting up basic inputs...');
        const dateInput = document.getElementById('dateInput');
        const timeInput = document.getElementById('timeInput');
        
        console.log('Found inputs:', {dateInput, timeInput});
        
        if (dateInput && timeInput) {
            // Set minimum date to today - STRICT validation
            const now = new Date();
            const today = now.toISOString().split('T')[0]; // Get YYYY-MM-DD format
            dateInput.min = today;
            dateInput.value = today; // Set default to today
            console.log('Set min date to:', today);
            
            // Validate date selection and provide immediate feedback - STRICT validation
            dateInput.addEventListener('change', function() {
                const selectedDate = this.value;
                const today = new Date().toISOString().split('T')[0];
                
                console.log('Date changed to:', selectedDate); // Debug
                
                if (!selectedDate) return; // Skip if no date selected
                
                // Strict validation - only today or future dates allowed
                if (selectedDate < today) {
                    alert('Nu puteți selecta date din trecut! Vă rugăm selectați astăzi sau o dată din viitor.');
                    this.value = today; // Reset to today immediately
                    console.log('Date rejected - too early'); // Debug
                    updateTimeRestrictions(); // Reset time restrictions
                    return;
                }
                
                if (selectedDate && isValidDate(selectedDate)) {
                    console.log('Date accepted'); // Debug
                    updateTimeRestrictions(); // Update time restrictions for new date
                } else {
                    console.log('Date invalid'); // Debug
                    alert('Dată invalidă! Vă rugăm selectați o dată validă.');
                    this.value = today; // Reset to today
                    updateTimeRestrictions(); // Reset time restrictions
                }
            });
            
            // Force 24-hour time format and remove AM/PM functionality
            timeInput.setAttribute('data-format', '24-hour');
            timeInput.setAttribute('maxlength', '5'); // Limit to HH:MM format
            
            // Format and validate time input as user types
            timeInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/[^\d:]/g, ''); // Only allow digits and colons
                
                // Auto-format with colon
                if (value.length === 2 && !value.includes(':')) {
                    value = value + ':';
                }
                
                // Limit to max length
                if (value.length > 5) {
                    value = value.substring(0, 5);
                }
                
                e.target.value = value;
            });
            
            // Validate time format on blur
            timeInput.addEventListener('blur', function() {
                const timeValue = this.value.trim();
                
                if (timeValue) {
                    // Validate HH:MM format
                    const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;
                    if (!timeRegex.test(timeValue)) {
                        alert('Vă rugăm introduceți ora în format 24h (HH:MM), de exemplu: 16:00');
                        this.value = '';
                        this.focus();
                        return;
                    }
                    
                    // Ensure it's always 24-hour format
                    this.value = timeValue;
                }
            });
            
            // Set initial time restrictions
            updateTimeRestrictions();
            
            // Setup time input toggle
            setupTimeInputToggle();
        }
    </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>
</body>
</html>