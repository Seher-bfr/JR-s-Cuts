<!doctype html>
<html lang="ro">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>JR's Cuts</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Merriweather:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

    <style>
        :root{
        --bg:#000000; --panel:#111111; --text:#ffffff; --muted:#888888; --accent:#32cd32; --watermark:rgba(255,255,255,0.08);
        }
        [data-theme="light"]{
        --bg:#ffffff; --panel:#f0f0f0; --text:#000000; --muted:#666666; --accent:#32cd32; --watermark:rgba(0,0,0,0.12);
        }

        html,body{height:100%;overflow-x:hidden;}
        body{
            margin:0; font-family:Montserrat,system-ui,-apple-system,"Segoe UI",Roboto; background:var(--bg); color:var(--text);
            -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
            display:flex; flex-direction:column; min-height:100vh;
            transition:background .25s, color .25s;
            -webkit-tap-highlight-color: transparent;
        }

        header{
            display:flex; align-items:center; justify-content:space-between;
            padding:18px 28px; gap:16px; backdrop-filter: blur(6px);
        }
        .brand{display:flex;align-items:center;gap:12px;font-weight:700}
        .brand .logo{
            width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--panel),rgba(0,0,0,0.04));
            display:grid;place-items:center;box-shadow:0 4px 18px rgba(0,0,0,0.06);
        }
        .brand .title{display:flex;flex-direction:column;line-height:1}
        .brand .name{font-family:Merriweather,serif;font-size:1.05rem;}
        .brand .tag{font-size:.72rem;color:var(--muted);}

        .controls{display:flex;gap:10px;align-items:center}
        .btn{
            background:transparent;border:1px solid rgba(255,255,255,0.1);padding:8px 12px;border-radius:6px;
            cursor:pointer;color:var(--text);display:inline-flex;gap:8px;align-items:center;font-weight:600;
            transition:transform .12s ease,box-shadow .12s ease,background .12s;
        }
        .btn:hover{background:rgba(255,255,255,0.05)}
        .btn:active{transform:scale(.98)}
        .theme-toggle{border-radius:999px;padding:10px}

        main{flex:1;padding:20px 22px;max-width:1100px;margin:0 auto;width:100%}
        .hero{
            display:flex;gap:24px;align-items:center;padding:28px;border-radius:14px;background:linear-gradient(180deg,var(--panel),transparent);
            box-shadow:0 6px 30px rgba(0,0,0,0.3);overflow:hidden;
        }
        .hero .info{flex:1}
        .hero h1{margin:0;font-family:Merriweather,serif;font-size:2.2rem;text-shadow:0 2px 4px rgba(0,0,0,0.5)}
        .hero p{margin:.6rem 0;color:var(--muted)}
        .cta{display:flex;gap:12px;margin-top:12px}
        .primary{background:var(--accent);color:white;border:0;padding:12px 18px;border-radius:8px;cursor:pointer;font-weight:700;text-transform:uppercase;letter-spacing:1px}
        .secondary{background:transparent;border:1px solid rgba(255,255,255,0.2);padding:12px 16px;border-radius:8px;cursor:pointer;color:var(--text);text-transform:uppercase;letter-spacing:1px}

        .pole{width:120px;height:180px;border-radius:12px;position:relative;overflow:hidden;flex-shrink:0;background:linear-gradient(90deg,#fff 45%, #e6e6e6 55%)}
        .strip{position:absolute;left:-20px;top:-100px;width:140%;height:400px;background:repeating-linear-gradient(45deg,var(--accent) 0 12px, #fff 12px 24px, #1e90ff 24px 36px);transform:rotate(-15deg);animation:spin 6s linear infinite}
        @keyframes spin{0%{transform:rotate(-15deg) translateY(0)}50%{transform:rotate(-15deg) translateY(10px)}100%{transform:rotate(-15deg) translateY(0)}}

        .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:18px}
        .card{background:var(--panel);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.05)}
        .card h3{margin:0 0 8px 0;font-weight:700;text-transform:uppercase;letter-spacing:1px}
        .muted{color:var(--muted);font-size:.95rem}


        form{display:flex;flex-direction:column;gap:12px}
        input,textarea,select{
            padding:14px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);
            background:var(--panel);color:var(--text);font-weight:500;
            font-size:16px; /* Prevents zoom on iOS */
        }
        /* Style for date and time inputs */
        #dateInput, #timeInput{flex:1; box-sizing:border-box}
        /* Force 24-hour time format and remove AM/PM */
        #timeInput {
            -webkit-appearance: none;
            -moz-appearance: textfield;
            appearance: none;
        }
        #timeInput::-webkit-calendar-picker-indicator {
            display: none;
        }
        #timeInput::-webkit-datetime-edit {
            hour: 'HH';
            minute: 'MM';
        }
        #timeInput::-webkit-datetime-edit-ampm-field {
            display: none;
        }
        textarea{min-height:100px;resize:vertical}

        footer{padding:18px 22px;text-align:center;color:var(--muted);font-size:.9rem}

        .click-ripple{
            position:fixed;pointer-events:none;border-radius:50%;transform:translate(-50%,-50%) scale(0);
            width:28px;height:28px;background:rgba(255,255,255,0.1);z-index:9999;mix-blend-mode:soft-light;animation:rip .6s ease-out;
        }
        @keyframes rip{to{transform:translate(-50%,-50%) scale(6);opacity:0}}

        .click-anim{transition:transform .18s cubic-bezier(.2,.9,.3,1);transform-origin:center}

        /* Modal styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: var(--panel);
            border-radius: 12px;
            padding: 24px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            animation: slideUp 0.3s ease-out;
        }

        .modal-content h3 {
            margin: 0 0 12px 0;
            color: var(--accent);
            font-family: Merriweather, serif;
        }

        .modal-content p {
            margin: 0 0 20px 0;
            color: var(--text);
        }

        .modal-close {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: transform 0.2s ease;
        }

        .modal-close:hover {
            transform: scale(1.05);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* Time slots styling */
        .time-slot {
            position: relative;
            overflow: hidden;
        }
        
        .time-slot.selected {
            box-shadow: 0 0 0 2px var(--accent);
        }
        
        .calendar-container {
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .input-row{display:flex;gap:8px}

        @media (max-width:700px){
            .hero{flex-direction:column;align-items:flex-start}
            .pole{width:100%;height:120px}
            .pole .strip{height:240px}
            .input-row{flex-direction:column}
            #timeSlotsGrid {
                grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
                gap: 6px;
                justify-content: center;
            }
            .time-slot {
                padding: 6px 4px;
                font-size: 0.8rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="brand">
            <div class="logo" aria-hidden>
                <svg width="42" height="42" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="3" width="18" height="18" rx="4" fill="var(--accent)"/>
                    <path d="M7 12c2-2 6-2 8 0" stroke="#fff" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="title">
                <div class="name">JR's Cuts</div>
                <div class="tag">Haz • Talent • Prestanta</div>
            </div>
        </div>

        <div class="controls">
            <button class="btn click-anim" id="themeBtn" title="Comută tema">Dark/Light</button>
        </div>
    </header>

    <main>
        <section class="hero card">
            <div class="info">
                <h1>Pentru momentele cand te simti amarat si vai de capul tau!</h1>
                <p>Razvan JR — frizeria pentru bărbații care stiu ce vor nevestele lor. Fade, Mullet si multe alte tunsori personalizate.</p>
                <div class="cta">
                    <button class="primary click-anim" id="primaryBook">Rezervă acum</button>
                    <button class="secondary click-anim" id="viewAppointments">Programări</button>
                </div>

                <div class="grid" style="margin-top:14px">
                    <div class="card">
                        <h3>Tunsori Hazoase</h3>
                        <div class="muted">Fade agresiv, undercut puternic — pentru bărbații reali.</div>
                    </div>
                    <div class="card">
                        <h3>Barba & putere</h3>
                        <div class="muted">Modelare barbă profesionistă, produse de top pentru un look dur.</div>
                    </div>
                    <div class="card">
                        <h3>Stil masculin</h3>
                        <div class="muted">Îngrijire completă pentru bărbați care domină.</div>
                    </div>
                </div>
            </div>

            <div style="display:flex;flex-direction:column;gap:14px;align-items:center">
                <img src="./Untitled.jpg" alt="Razvan JR" style="width:220px;height:auto;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.2);display:block">
                <div class="card" style="padding:10px;width:220px;text-align:center">
                    <div style="font-weight:700">Razvan JR</div>
                    <div class="muted" style="font-size:.85rem">Ciumeg & Talentat</div>
                </div>
            </div>
        </section>

        <section style="margin-top:18px">
            <h2 style="margin:6px 0">Programări</h2>
            <div class="grid" id="appointments">
                <div class="card">
                    <h3>Luni - Vineri</h3>
                    <div class="muted">20:00 - 00:00</div>
                </div>
                <div class="card">
                    <h3>Sâmbătă</h3>
                    <div class="muted">16:00 - 20:00</div>
                </div>
                <div class="card">
                    <h3>Duminică</h3>
                    <div class="muted">Închis</div>
                </div>
            </div>
        </section>

        <section style="margin-top:18px" id="booking" aria-live="polite">
            <h2>Rezervare</h2>
            <div class="card" style="padding:16px">
                <form id="bookForm">
                    <div class="input-row">
                        <input name="nume" placeholder="Nume" required>
                        <input name="telefon" placeholder="Telefon (07xxxxxxxx)" maxlength="10" pattern="07[0-9]{8}" title="Numarul de telefon trebuie sa inceapa cu 07 si sa aiba 10 cifre" required>
                    </div>
                    <select name="serviciu" required>
                        <option value="">Alege serviciu</option>
                        <option>Tuns Fade Clasic 40 RON</option>
                        <option>Tunsori cu model personalizat 50 RON</option>
                        <option>Modelare Barba 30 RON</option>
                        <option>Pachet masculin 80 RON</option>
                    </select>
                    <div class="input-row" style="position:relative;">
                        <input type="date" name="data" required id="dateInput" style="flex:1;">
                    </div>
                    <input type="hidden" name="time" id="timeInput">

                    <div id="calendarSection" style="display:none; margin-top: 12px;">
                        <div class="calendar-container" style="background: var(--panel); border-radius: 8px; padding: 16px; border: 1px solid rgba(255,255,255,0.1);">
                            <h4 style="margin: 0 0 12px 0; text-align: center;">Selectați ora disponibilă</h4>
                            <div id="timeSlotsGrid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(80px, 1fr)); gap: 8px;">
                            </div>
                        </div>
                    </div>
                    <textarea name="note" placeholder="Observații (opțional)"></textarea>
                    <div style="display:flex;gap:10px;justify-content:flex-end">
                        <button type="reset" class="secondary click-anim">Resetează</button>
                        <button type="submit" class="primary click-anim">Trimite rezervare</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <footer>
        © <span id="year"></span> drgx.prod
    </footer>

    <div id="successModal" class="modal-overlay">
        <div class="modal-content">
            <h3>Rezervare trimisă!</h3>
            <p>Te sunăm noi pentru confirmare. Mulțumim!</p>
            <button class="modal-close" onclick="closeModal()">Închide</button>
        </div>
    </div>

    <script>
        const html = document.documentElement;
        const saved = localStorage.getItem('rz-theme') || 'dark';
        html.setAttribute('data-theme', saved);
        document.getElementById('themeBtn').addEventListener('click', ()=>{
            const cur = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', cur);
            localStorage.setItem('rz-theme', cur);
        });

        document.addEventListener('click', (e)=>{
            const el = document.createElement('div');
            el.className = 'click-ripple';
            el.style.left = e.clientX + 'px';
            el.style.top = e.clientY + 'px';
            document.body.appendChild(el);
            setTimeout(()=>el.remove(),700);
        }, {passive:true});

        document.getElementById('primaryBook').addEventListener('click', ()=>document.getElementById('booking').scrollIntoView({behavior:'smooth'}));
        document.getElementById('primaryBook').addEventListener('click', ()=>document.getElementById('booking').scrollIntoView({behavior:'smooth'}));
        document.getElementById('viewAppointments').addEventListener('click', ()=>document.getElementById('appointments').scrollIntoView({behavior:'smooth'}));

        const businessHours = {
            1: { start: '20:00', end: '24:00' },
            2: { start: '20:00', end: '24:00' },
            3: { start: '20:00', end: '24:00' },
            4: { start: '20:00', end: '24:00' },
            5: { start: '20:00', end: '24:00' },
            6: { start: '16:00', end: '20:00' },
            0: null
        };

        function isValidTime(date, time) {
            const dayOfWeek = new Date(date).getDay();
            const hours = businessHours[dayOfWeek];

            if (!hours) return false;

            if (!time || !time.includes(':')) return false;
            
            const [selectedHour] = time.split(':').map(Number);
            const [startHour] = hours.start.split(':').map(Number);
            const [endHour] = hours.end.split(':').map(Number);
            
            return selectedHour >= startHour && selectedHour < endHour;
        }

        function isValidDate(dateString) {
            const selectedDate = new Date(dateString);
            const today = new Date();
            
            // Set both dates to start of day (midnight) for accurate comparison
            today.setHours(0, 0, 0, 0);
            selectedDate.setHours(0, 0, 0, 0);

            return selectedDate >= today;
        }

        function updateTimeRestrictions() {
            const dateInput = document.getElementById('dateInput');
            const timeInput = document.getElementById('timeInput');
            const calendarSection = document.getElementById('calendarSection');

            if (dateInput && timeInput) {
                const selectedDate = new Date(dateInput.value);
                const dayOfWeek = selectedDate.getDay();
                const hours = businessHours[dayOfWeek];

                if (hours) {
                    calendarSection.style.display = 'block';
                    generateTimeSlots(selectedDate, hours);
                } else {
                    timeInput.value = '';
                    calendarSection.style.display = 'none';
                }
            }
        }

        function generateTimeSlots(date, hours) {
            const timeSlotsGrid = document.getElementById('timeSlotsGrid');
            const [startHour] = hours.start.split(':').map(Number);
            const [endHour] = hours.end.split(':').map(Number);

            timeSlotsGrid.innerHTML = '';

            for (let hour = startHour; hour < endHour; hour++) {
                const timeString = hour.toString().padStart(2, '0') + ':00';
                const slotButton = document.createElement('button');
                slotButton.className = 'time-slot';
                slotButton.textContent = timeString;
                slotButton.setAttribute('data-time', timeString);
                slotButton.style.cssText = `
                    background: var(--panel);
                    border: 1px solid rgba(255,255,255,0.2);
                    color: var(--text);
                    padding: 8px;
                    border-radius: 6px;
                    cursor: pointer;
                    font-weight: 500;
                    transition: all 0.2s ease;
                    font-size: 0.9rem;
                `;

                slotButton.addEventListener('mouseenter', function() {
                    this.style.background = 'var(--accent)';
                    this.style.color = 'white';
                    this.style.transform = 'translateY(-1px)';
                });
                
                slotButton.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('selected')) {
                        this.style.background = 'var(--panel)';
                        this.style.color = 'var(--text)';
                        this.style.transform = 'translateY(0)';
                    }
                });

                slotButton.addEventListener('click', function() {
                    document.querySelectorAll('.time-slot.selected').forEach(slot => {
                        slot.classList.remove('selected');
                        slot.style.background = 'var(--panel)';
                        slot.style.color = 'var(--text)';
                        slot.style.transform = 'translateY(0)';
                    });

                    this.classList.add('selected');
                    this.style.background = 'var(--accent)';
                    this.style.color = 'white';
                    this.style.transform = 'translateY(-1px)';

                    const timeInput = document.getElementById('timeInput');
                    timeInput.value = timeString;
                    timeInput.focus();
                });
                
                timeSlotsGrid.appendChild(slotButton);
            }
        }


        const phoneInput = document.querySelector('input[name="telefon"]');
        if (phoneInput) {
            phoneInput.addEventListener('input', function(e) {
                let value = e.target.value;

                value = value.replace(/[^0-9]/g, '');

                if (value.length > 10) {
                    value = value.substring(0, 10);
                }

                e.target.value = value;

                const phonePattern = /^07[0-9]{8}$/;
                if (value.length === 10 && !phonePattern.test(value)) {
                    e.target.setCustomValidity('Număr de telefon invalid. Trebuie să înceapă cu 07.');
                } else {
                    e.target.setCustomValidity('');
                }
            });
            
            phoneInput.addEventListener('blur', function(e) {
                const value = e.target.value;
                const phonePattern = /^07[0-9]{8}$/;
                
                if (value.length > 0 && !phonePattern.test(value)) {
                    alert('Numaru tau orfane');
                    e.target.focus();
                }
            });
        }

        const bookForm = document.getElementById('bookForm');

        if (bookForm) {
            bookForm.addEventListener('submit', (e)=>{
                e.preventDefault();

                const fd = new FormData(e.target);

                const name = fd.get('nume') || '';
                const phone = fd.get('telefon') || '';
                const date = fd.get('data') || '';
                const time = fd.get('time') || '';
                const service = fd.get('serviciu') || '';
                const notes = fd.get('note') || '';

                // Validate phone number
                const phonePattern = /^07[0-9]{8}$/;
                if (!phonePattern.test(phone)) {
                    alert('Număr de telefon invalid. Trebuie să înceapă cu 07 și să aibă 10 cifre.');
                    return;
                }

                let cleanService = '';
                if (service) {
                    cleanService = service.split(' ').slice(0, -2).join(' ');
                }
                if (!isValidDate(date)) {
                    alert('Vă rugăm selectați o dată de astăzi sau o dată din viitor.');
                    return;
                }

                if (!time) {
                    alert('Vă rugăm selectați o oră disponibilă.');
                    return;
                }

                const timeRegex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;
                if (!timeRegex.test(time)) {
                    alert('Format oră invalid. Vă rugăm introduceți ora în format HH:MM.');
                    return;
                }
                const selectedDate = new Date(date);
                const dayOfWeek = selectedDate.getDay();
                const dayHours = businessHours[dayOfWeek];
                
                if (!dayHours) {
                    alert(`Suntem închiși în această zi.\nZiua: ${['Duminică', 'Luni', 'Marți', 'Miercuri', 'Joi', 'Vineri', 'Sâmbătă'][dayOfWeek]}\n\nVă rugăm selectați o altă zi.`);
                    return;
                }
                
                if (!isValidTime(date, time)) {
                    alert(`Ora selectată nu este în intervalul de program.\nZiua: ${['Duminică', 'Luni', 'Marți', 'Miercuri', 'Joi', 'Vineri', 'Sâmbătă'][dayOfWeek]}\nProgram: ${dayHours.start} - ${dayHours.end}\n\nVă rugăm selectați o oră în intervalul de program.`);
                    return;
                }

                showSuccessModal();

                e.target.reset();
                updateTimeRestrictions();
            });
            

            
            const dateInput = document.getElementById('dateInput');
            if (dateInput) {
                dateInput.addEventListener('change', updateTimeRestrictions);
            }
        }

        document.getElementById('year').textContent = new Date().getFullYear();

        const dateInput = document.getElementById('dateInput');
        const timeInput = document.getElementById('timeInput');
        
        if (dateInput && timeInput) {
            const now = new Date();
            const today = now.toISOString().split('T')[0]; // Get YYYY-MM-DD format
            dateInput.min = today;
            dateInput.value = today; // Set default to today

            dateInput.addEventListener('change', function() {
                const selectedDate = this.value;
                const today = new Date().toISOString().split('T')[0];

                if (!selectedDate) return; // Skip if no date selected

                if (selectedDate < today) {
                    alert('Nu puteți selecta date din trecut! Vă rugăm selectați astăzi sau o dată din viitor.');
                    this.value = today; // Reset to today immediately
                    updateTimeRestrictions(); // Reset time restrictions
                    return;
                }

                if (selectedDate && isValidDate(selectedDate)) {
                    updateTimeRestrictions(); // Update time restrictions for new date
                } else {
                    alert('Dată invalidă! Vă rugăm selectați o dată validă.');
                    this.value = today; // Reset to today
                    updateTimeRestrictions(); // Reset time restrictions
                }
            });


            updateTimeRestrictions();
        }

        function showSuccessModal() {
            const modal = document.getElementById('successModal');
            modal.style.display = 'flex';
            setTimeout(() => {
                closeModal();
            }, 5000);
        }

        function closeModal() {
            const modal = document.getElementById('successModal');
            modal.style.display = 'none';
        }

        document.getElementById('successModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
    </script>
</body>
</html>
